{"paragraphs":[{"text":"import org.apache.spark.sql.SparkSession\nimport org.apache.spark.ml.feature.VectorAssembler\nimport org.apache.spark.ml.feature.StringIndexer\nimport org.apache.spark.ml.classification.RandomForestClassifier\nimport org.apache.spark.ml.evaluation.MulticlassClassificationEvaluator\nimport org.apache.spark.ml.Pipeline\nimport org.apache.spark.ml.tuning.{CrossValidator, ParamGridBuilder}","user":"anonymous","dateUpdated":"2017-05-24T16:59:50+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nimport org.apache.spark.sql.SparkSession\n\nimport org.apache.spark.ml.feature.VectorAssembler\n\nimport org.apache.spark.ml.feature.StringIndexer\n\nimport org.apache.spark.ml.classification.RandomForestClassifier\n\nimport org.apache.spark.ml.evaluation.MulticlassClassificationEvaluator\n\nimport org.apache.spark.ml.Pipeline\n\nimport org.apache.spark.ml.tuning.{CrossValidator, ParamGridBuilder}\n"}]},"apps":[],"jobName":"paragraph_1495639514011_-1965588940","id":"20170524-152514_1301033462","dateCreated":"2017-05-24T15:25:14+0000","dateStarted":"2017-05-24T16:59:50+0000","dateFinished":"2017-05-24T16:59:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:24509"},{"text":"val spark = SparkSession.builder().getOrCreate()","user":"anonymous","dateUpdated":"2017-05-24T15:28:46+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nspark: org.apache.spark.sql.SparkSession = org.apache.spark.sql.SparkSession@3cb2eecd\n"}]},"apps":[],"jobName":"paragraph_1495639538552_-165338970","id":"20170524-152538_114806508","dateCreated":"2017-05-24T15:25:38+0000","dateStarted":"2017-05-24T15:28:46+0000","dateFinished":"2017-05-24T15:28:46+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24510"},{"text":"val df = spark\n    .read\n    .option(\"inferSchema\", \"true\")\n    .option(\"header\", \"true\")\n    .format(\"csv\")\n    .load(\"s3://whitney-dsi/iris_names.csv\")\n    ","user":"anonymous","dateUpdated":"2017-05-24T15:30:42+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\ndf: org.apache.spark.sql.DataFrame = [sepal length (cm): double, sepal width (cm): double ... 3 more fields]\n"}]},"apps":[],"jobName":"paragraph_1495639726491_1605384382","id":"20170524-152846_210759146","dateCreated":"2017-05-24T15:28:46+0000","dateStarted":"2017-05-24T15:30:42+0000","dateFinished":"2017-05-24T15:30:57+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24511"},{"text":"val assembler = new VectorAssembler()\n    .setInputCols(Array(\"sepal length (cm)\", \"sepal width (cm)\", \"petal length (cm)\", \"petal width (cm)\"))\n    .setOutputCol(\"features\")","user":"anonymous","dateUpdated":"2017-05-24T15:33:39+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nassembler: org.apache.spark.ml.feature.VectorAssembler = vecAssembler_0783653a65d2\n"}]},"apps":[],"jobName":"paragraph_1495639808732_-1136077413","id":"20170524-153008_1134523876","dateCreated":"2017-05-24T15:30:08+0000","dateStarted":"2017-05-24T15:33:39+0000","dateFinished":"2017-05-24T15:33:39+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24512"},{"text":"val indexer = new StringIndexer()\n    .setInputCol(\"species\")\n    .setOutputCol(\"label\")\n    .fit(df)","user":"anonymous","dateUpdated":"2017-05-24T16:38:58+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nindexer: org.apache.spark.ml.feature.StringIndexerModel = strIdx_754e94d28979\n"}]},"apps":[],"jobName":"paragraph_1495640686698_-705083145","id":"20170524-154446_742395953","dateCreated":"2017-05-24T15:44:46+0000","dateStarted":"2017-05-24T16:38:58+0000","dateFinished":"2017-05-24T16:39:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24515"},{"text":"val rf = new RandomForestClassifier()","user":"anonymous","dateUpdated":"2017-05-24T16:04:25+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nrf: org.apache.spark.ml.classification.RandomForestClassifier = rfc_f91e144aa2fd\n"}]},"apps":[],"jobName":"paragraph_1495641747422_511221975","id":"20170524-160227_2079701861","dateCreated":"2017-05-24T16:02:27+0000","dateStarted":"2017-05-24T16:04:25+0000","dateFinished":"2017-05-24T16:04:26+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:24520"},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1495641965765_616564909","id":"20170524-160605_187690233","dateCreated":"2017-05-24T16:06:05+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:25519","text":"val evaluator = new MulticlassClassificationEvaluator()\n    .setLabelCol(\"label\")\n    .setPredictionCol(\"prediction\")\n    .setMetricName(\"accuracy\")","dateUpdated":"2017-05-24T16:13:27+0000","dateFinished":"2017-05-24T16:13:28+0000","dateStarted":"2017-05-24T16:13:27+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nevaluator: org.apache.spark.ml.evaluation.MulticlassClassificationEvaluator = mcEval_50962057cfcf\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1495642436115_-79403168","id":"20170524-161356_628747168","dateCreated":"2017-05-24T16:13:56+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:25861","text":"val pipeline = new Pipeline()\n    .setStages(Array(indexer, assembler, rf))","dateUpdated":"2017-05-24T16:46:01+0000","dateFinished":"2017-05-24T16:46:01+0000","dateStarted":"2017-05-24T16:46:01+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\npipeline: org.apache.spark.ml.Pipeline = pipeline_39989f497987\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1495644361164_1461290127","id":"20170524-164601_2103883955","dateCreated":"2017-05-24T16:46:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:26042","text":"val Array(train, test) = df.randomSplit(Array(0.7,0.3), 2)","dateUpdated":"2017-05-24T16:47:43+0000","dateFinished":"2017-05-24T16:47:43+0000","dateStarted":"2017-05-24T16:47:43+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\n\ntrain: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [sepal length (cm): double, sepal width (cm): double ... 3 more fields]\ntest: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [sepal length (cm): double, sepal width (cm): double ... 3 more fields]\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1495644520862_-1881009889","id":"20170524-164840_1706875294","dateCreated":"2017-05-24T16:48:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:26289","text":"val paramGrid = new ParamGridBuilder()\n    .addGrid(rf.numTrees, Array(10,20,50))\n    .addGrid(rf.featureSubsetStrategy, Array(\"auto\", \"all\"))\n    .addGrid(rf.maxDepth, Range(0,5))\n    .build()","dateUpdated":"2017-05-24T17:21:18+0000","dateFinished":"2017-05-24T17:21:18+0000","dateStarted":"2017-05-24T17:21:18+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nparamGrid: Array[org.apache.spark.ml.param.ParamMap] =\nArray({\n\trfc_f91e144aa2fd-featureSubsetStrategy: auto,\n\trfc_f91e144aa2fd-maxDepth: 0,\n\trfc_f91e144aa2fd-numTrees: 10\n}, {\n\trfc_f91e144aa2fd-featureSubsetStrategy: all,\n\trfc_f91e144aa2fd-maxDepth: 0,\n\trfc_f91e144aa2fd-numTrees: 10\n}, {\n\trfc_f91e144aa2fd-featureSubsetStrategy: auto,\n\trfc_f91e144aa2fd-maxDepth: 0,\n\trfc_f91e144aa2fd-numTrees: 20\n}, {\n\trfc_f91e144aa2fd-featureSubsetStrategy: all,\n\trfc_f91e144aa2fd-maxDepth: 0,\n\trfc_f91e144aa2fd-numTrees: 20\n}, {\n\trfc_f91e144aa2fd-featureSubsetStrategy: auto,\n\trfc_f91e144aa2fd-maxDepth: 0,\n\trfc_f91e144aa2fd-numTrees: 50\n}, {\n\trfc_f91e144aa2fd-featureSubsetStrategy: all,\n\trfc_f91e144aa2fd-maxDepth: 0,\n\trfc_f91e144aa2fd-numTrees: 50\n}, {\n\trfc_f91e144aa2fd-featureSubsetStrategy: auto,\n\trfc_f..."}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1495645478554_1903363848","id":"20170524-170438_1262273182","dateCreated":"2017-05-24T17:04:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:26446","text":"val cv = new CrossValidator()\n    .setEstimator(pipeline)\n    .setEvaluator(evaluator)\n    .setEstimatorParamMaps(paramGrid)\n    .setNumFolds(3)","dateUpdated":"2017-05-24T17:21:21+0000","dateFinished":"2017-05-24T17:21:22+0000","dateStarted":"2017-05-24T17:21:21+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\ncv: org.apache.spark.ml.tuning.CrossValidator = cv_4f93978f1677\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1495645601310_-256095456","id":"20170524-170641_1343132426","dateCreated":"2017-05-24T17:06:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:26527","text":"val cvModel = cv.fit(train)","dateUpdated":"2017-05-24T17:21:26+0000","dateFinished":"2017-05-24T17:22:24+0000","dateStarted":"2017-05-24T17:21:26+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\ncvModel: org.apache.spark.ml.tuning.CrossValidatorModel = cv_4f93978f1677\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1495645635097_-1914870557","id":"20170524-170715_578234292","dateCreated":"2017-05-24T17:07:15+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:26626","text":"cvModel.avgMetrics","dateUpdated":"2017-05-24T17:23:16+0000","dateFinished":"2017-05-24T17:23:17+0000","dateStarted":"2017-05-24T17:23:16+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nres12: Array[Double] = Array(0.28796747967479674, 0.28796747967479674, 0.28796747967479674, 0.28796747967479674, 0.28796747967479674, 0.28796747967479674, 0.8162195121951218, 0.9370731707317073, 0.9093495934959349, 0.9368699186991869, 0.9502032520325203, 0.9204065040650407, 0.9256097560975609, 0.9504065040650406, 0.933739837398374, 0.928739837398374, 0.9204065040650407, 0.928739837398374, 0.9420731707317073, 0.9420731707317073, 0.933739837398374, 0.9420731707317073, 0.928739837398374, 0.9370731707317073, 0.933739837398374, 0.9422764227642277, 0.9204065040650407, 0.9420731707317073, 0.928739837398374, 0.9370731707317073)\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1495645890494_-1674237741","id":"20170524-171130_747057349","dateCreated":"2017-05-24T17:11:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:26735","text":"cvModel.estimatorParamMaps","dateUpdated":"2017-05-24T17:14:23+0000","dateFinished":"2017-05-24T17:14:23+0000","dateStarted":"2017-05-24T17:14:23+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nres10: org.apache.spark.ml.param.Param[Array[org.apache.spark.ml.param.ParamMap]] = cv_ddaaff213fee__estimatorParamMaps\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1495645939701_866720616","id":"20170524-171219_1636977424","dateCreated":"2017-05-24T17:12:19+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:26852","text":"val predictions = cvModel.transform(test)","dateUpdated":"2017-05-24T17:24:01+0000","dateFinished":"2017-05-24T17:24:02+0000","dateStarted":"2017-05-24T17:24:01+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\npredictions: org.apache.spark.sql.DataFrame = [sepal length (cm): double, sepal width (cm): double ... 8 more fields]\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1495646641879_-1660345742","id":"20170524-172401_2002331543","dateCreated":"2017-05-24T17:24:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:27275","text":"evaluator.evaluate(predictions)","dateUpdated":"2017-05-24T17:24:15+0000","dateFinished":"2017-05-24T17:24:26+0000","dateStarted":"2017-05-24T17:24:15+0000","results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nres13: Double = 0.9090909090909091\n"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1495646655128_254580182","id":"20170524-172415_1557993595","dateCreated":"2017-05-24T17:24:15+0000","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:27356"}],"name":"Pipeliiiiines","id":"2CJ91R9J7","angularObjects":{"2BRWU4WXC:shared_process":[],"2AM1YV5CU:shared_process":[],"2AJXGMUUJ:shared_process":[],"2ANGGHHMQ:shared_process":[],"2AKK3QQXU:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}